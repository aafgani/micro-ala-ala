
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

<!-- Summernote CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.18/summernote-bs4.min.css" rel="stylesheet">

<!-- Select2 CSS -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

<!-- Bootstrap Datepicker CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" rel="stylesheet">

<style>
    .select2-container--default .select2-selection--multiple .select2-selection__choice {
        background-color: #007bff; /* Bootstrap primary */
        color: #fff;
        border: none;
        padding: 2px 8px;
        font-size: 0.9rem;
    }
</style>


<section class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-6">
                <div class="card card-info card-outline">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-tasks"></i> To-Do Detail - <span id="todoTitleDisplay">Design UI Layout</span>
                        </h3>
                    </div>

                    <div class="card-body">
                        <!-- To-Do Title -->
                        <div class="form-group">
                            <label for="todoTitle">
                                <i class="fas fa-tasks"></i> To-Do Title
                            </label>
                            <input type="text" class="form-control" id="todoTitle" placeholder="Enter to-do title">
                        </div>

                        <!-- Due Date-->
                        <div class="form-group">
                            <label for="dueDate">
                                <i class="fas fa-calendar-day"></i> Due Date
                            </label>
                            <div class="input-group date" id="dueDatePicker">
                                <input type="text" class="form-control" id="dueDate" placeholder="Select due date">
                                <div class="input-group-append">
                                    <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                                </div>
                            </div>
                        </div>

                        <!-- Assignee Section -->
                        <div class="form-group">
                            <label for="assignee">
                                <i class="fas fa-user"></i> Assignee
                            </label>
                            <select class="form-control" id="assignee">
                                <option value="1">John Doe</option>
                                <option value="2">Jane Smith</option>
                                <option value="3">Mike Johnson</option>
                                <!-- Add more options as needed -->
                            </select>
                        </div>

                        <!-- Reminder Section -->
                        <div class="form-group">
                            <label for="reminder">
                                <i class="fas fa-bell"></i> Reminder
                            </label>
                            <input type="datetime-local" class="form-control" id="reminder">
                        </div>

                        <!-- Steps Section (Dynamic Textboxes) -->
                        <div class="form-group">
                            <label for="steps">
                                <i class="fas fa-list-ul"></i> Steps
                            </label>
                            <div id="steps-container">
                                <div class="input-group mb-3">
                                    <input type="text" class="form-control" placeholder="Step 1" name="step[]">
                                    <div class="input-group-append">
                                        <button class="btn btn-danger remove-step" type="button">Remove</button>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary" id="add-step">
                                <i class="fas fa-plus"></i> Add Step
                            </button>
                        </div>

                        <!-- File Upload Section -->
                        <div class="form-group">
                            <label for="fileUpload">
                                <i class="fas fa-upload"></i> Add File
                            </label>
                            <input type="file" class="form-control" id="fileUpload">
                        </div>

                        <!-- Tags -->
                        <div class="form-group">
                            <label for="todoTags">
                                <i class="fas fa-tags"></i> Tags
                            </label>
                            <select class="form-control" id="todoTags" multiple="multiple">
                                <option value="My Day">My Day</option>
                                <option value="Important">Important</option>
                                <option value="Work">Work</option>
                                <option value="Personal">Personal</option>
                            </select>
                        </div>

                        <!-- Location Section (Map) -->
                        <div class="form-group">
                            <label for="location">
                                <i class="fas fa-map-marker-alt"></i> Add Location
                            </label>
                            <div id="map" style="height: 300px;"></div> <!-- Placeholder for map -->
                            <input type="text" class="form-control mt-2" id="location" placeholder="Search location...">
                        </div>

                        <!-- Notes -->
                        <div class="form-group">
                            <label for="notes">
                                <i class="fas fa-sticky-note"></i> Notes
                            </label>
                            <textarea id="notes" class="form-control"></textarea>
                        </div>

                        <!-- Save Button -->
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i> Save Changes
                        </button>
                        <a href="/todo" class="btn btn-secondary">
                            <i class="fas fa-arrow-left"></i> Back to To-Do List
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
</section>

<script>
  $(document).ready(function () {
    $('#notes').summernote({
      height: 200,   // set editor height
      placeholder: 'Write your notes here...',
      toolbar: [
        ['style', ['bold', 'italic', 'underline', 'clear']],
        ['para', ['ul', 'ol', 'paragraph']],
        ['insert', ['link']],
        ['view', ['codeview']]
      ]
    });
    
    $('#todoTitle').on('input', function () {
      $('#todoTitleDisplay').text($(this).val());
    });

       $('#todoTags').select2({
        tags: true,
        placeholder: "Select or add tags",
        width: '100%'
      });
      
      $('#dueDatePicker').datepicker({
        format: 'yyyy-mm-dd',
        autoclose: true,
        todayHighlight: true
      });
  });
</script>


<script>
    // Add new step
    document.getElementById('add-step').addEventListener('click', function() {
      const stepContainer = document.getElementById('steps-container');
      const newStep = document.createElement('div');
      newStep.classList.add('input-group', 'mb-3');
      newStep.innerHTML = `
        <input type="text" class="form-control" placeholder="New Step" name="step[]">
        <div class="input-group-append">
          <button class="btn btn-danger remove-step" type="button">Remove</button>
        </div>
      `;
      stepContainer.appendChild(newStep);

      // Add event listener to remove button for each new step
      newStep.querySelector('.remove-step').addEventListener('click', function() {
        stepContainer.removeChild(newStep);
      });
    });

    // Initialize map (using Leaflet.js or Google Maps API)
    // Example: Leaflet.js map
    var map = L.map('map').setView([51.505, -0.09], 13); // Default location
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

    map.on('click', function(e) {
      document.getElementById('location').value = e.latlng.lat + ', ' + e.latlng.lng;
    });
</script>

<!-- Summernote JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.18/summernote-bs4.min.js"></script>

<!-- Select2 JS -->
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<!-- Bootstrap Datepicker JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>